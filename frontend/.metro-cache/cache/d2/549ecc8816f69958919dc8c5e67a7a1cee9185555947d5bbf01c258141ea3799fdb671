{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"FileSystemReadableStreamSource\", {\n    enumerable: true,\n    get: function () {\n      return FileSystemReadableStreamSource;\n    }\n  });\n  Object.defineProperty(exports, \"FileSystemWritableSink\", {\n    enumerable: true,\n    get: function () {\n      return FileSystemWritableSink;\n    }\n  });\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var FileSystemReadableStreamSource = /*#__PURE__*/function () {\n    function FileSystemReadableStreamSource(handle) {\n      (0, _classCallCheck.default)(this, FileSystemReadableStreamSource);\n      this.size = 1024;\n      this.type = 'bytes';\n      this.handle = handle;\n    }\n    return (0, _createClass.default)(FileSystemReadableStreamSource, [{\n      key: \"cancel\",\n      value: function cancel() {\n        this.handle.close();\n      }\n    }, {\n      key: \"pull\",\n      value: function pull(controller) {\n        var theView = controller.byobRequest?.view;\n        if (!theView) {\n          var _bytes = this.handle.readBytes(this.size);\n          if (_bytes.length === 0) {\n            controller.close();\n            return;\n          }\n          controller.enqueue(_bytes);\n          return;\n        }\n\n        // TODO: Optimize by adding a native method that can write into a TypedArray at a given offset.\n        var bytes = this.handle.readBytes(theView.byteLength - theView.byteOffset);\n        if (bytes.length === 0) {\n          controller.close();\n          controller.byobRequest.respond(0);\n          return;\n        }\n        if (theView instanceof Uint8Array) {\n          theView.set(bytes, theView.byteOffset);\n        } else {\n          var array = new Uint8Array(theView.buffer);\n          for (var i = 0; i < bytes.length; i++) {\n            array[i + (theView.byteOffset ?? 0)] = bytes[i];\n          }\n        }\n        controller.byobRequest.respond(bytes.length);\n      }\n    }]);\n  }();\n  var FileSystemWritableSink = /*#__PURE__*/function () {\n    function FileSystemWritableSink(handle) {\n      (0, _classCallCheck.default)(this, FileSystemWritableSink);\n      this.handle = handle;\n    }\n    return (0, _createClass.default)(FileSystemWritableSink, [{\n      key: \"abort\",\n      value: function abort() {\n        this.close();\n      }\n    }, {\n      key: \"close\",\n      value: function close() {\n        this.handle.close();\n      }\n    }, {\n      key: \"write\",\n      value: function write(chunk) {\n        this.handle.writeBytes(chunk);\n      }\n    }]);\n  }();\n});","lineCount":95,"map":[[12,2,3,0,"Object"],[12,8,3,0],[12,9,3,0,"defineProperty"],[12,23,3,0],[12,24,3,0,"exports"],[12,31,3,0],[13,4,3,0,"enumerable"],[13,14,3,0],[14,4,3,0,"get"],[14,7,3,0],[14,18,3,0,"get"],[14,19,3,0],[15,6,3,0],[15,13,3,0,"FileSystemReadableStreamSource"],[15,43,3,0],[16,4,3,0],[17,2,3,0],[18,2,47,0,"Object"],[18,8,47,0],[18,9,47,0,"defineProperty"],[18,23,47,0],[18,24,47,0,"exports"],[18,31,47,0],[19,4,47,0,"enumerable"],[19,14,47,0],[20,4,47,0,"get"],[20,7,47,0],[20,18,47,0,"get"],[20,19,47,0],[21,6,47,0],[21,13,47,0,"FileSystemWritableSink"],[21,35,47,0],[22,4,47,0],[23,2,47,0],[24,2,65,1],[24,6,65,1,"_babelRuntimeHelpersClassCallCheck"],[24,40,65,1],[24,43,65,1,"require"],[24,50,65,1],[24,51,65,1,"_dependencyMap"],[24,65,65,1],[25,2,65,1],[25,6,65,1,"_classCallCheck"],[25,21,65,1],[25,24,65,1,"_interopDefault"],[25,39,65,1],[25,40,65,1,"_babelRuntimeHelpersClassCallCheck"],[25,74,65,1],[26,2,65,1],[26,6,65,1,"_babelRuntimeHelpersCreateClass"],[26,37,65,1],[26,40,65,1,"require"],[26,47,65,1],[26,48,65,1,"_dependencyMap"],[26,62,65,1],[27,2,65,1],[27,6,65,1,"_createClass"],[27,18,65,1],[27,21,65,1,"_interopDefault"],[27,36,65,1],[27,37,65,1,"_babelRuntimeHelpersCreateClass"],[27,68,65,1],[28,2,65,1],[28,6,3,13,"FileSystemReadableStreamSource"],[28,36,3,43],[29,4,8,2],[29,13,8,2,"FileSystemReadableStreamSource"],[29,44,8,14,"handle"],[29,50,8,32],[29,52,8,34],[30,6,8,34],[30,10,8,34,"_classCallCheck"],[30,25,8,34],[30,26,8,34,"default"],[30,33,8,34],[30,41,8,34,"FileSystemReadableStreamSource"],[30,71,8,34],[31,6,8,34],[31,11,5,2,"size"],[31,15,5,6],[31,18,5,17],[31,22,5,21],[32,6,5,21],[32,11,6,2,"type"],[32,15,6,6],[32,18,6,9],[32,25,6,16],[33,6,9,4],[33,10,9,8],[33,11,9,9,"handle"],[33,17,9,15],[33,20,9,18,"handle"],[33,26,9,24],[34,4,10,2],[35,4,10,3],[35,15,10,3,"_createClass"],[35,27,10,3],[35,28,10,3,"default"],[35,35,10,3],[35,37,10,3,"FileSystemReadableStreamSource"],[35,67,10,3],[36,6,10,3,"key"],[36,9,10,3],[37,6,10,3,"value"],[37,11,10,3],[37,13,12,2],[37,22,12,2,"cancel"],[37,28,12,8,"cancel"],[37,29,12,8],[37,31,12,11],[38,8,13,4],[38,12,13,8],[38,13,13,9,"handle"],[38,19,13,15],[38,20,13,16,"close"],[38,25,13,21],[38,26,13,22],[38,27,13,23],[39,6,14,2],[40,4,14,3],[41,6,14,3,"key"],[41,9,14,3],[42,6,14,3,"value"],[42,11,14,3],[42,13,16,2],[42,22,16,2,"pull"],[42,26,16,6,"pull"],[42,27,16,7,"controller"],[42,37,16,47],[42,39,16,49],[43,8,17,4],[43,12,17,10,"theView"],[43,19,17,17],[43,22,17,20,"controller"],[43,32,17,30],[43,33,17,31,"byobRequest"],[43,44,17,42],[43,46,17,44,"view"],[43,50,17,48],[44,8,18,4],[44,12,18,8],[44,13,18,9,"theView"],[44,20,18,16],[44,22,18,18],[45,10,19,6],[45,14,19,12,"bytes"],[45,20,19,17],[45,23,19,20],[45,27,19,24],[45,28,19,25,"handle"],[45,34,19,31],[45,35,19,32,"readBytes"],[45,44,19,41],[45,45,19,42],[45,49,19,46],[45,50,19,47,"size"],[45,54,19,51],[45,55,19,52],[46,10,20,6],[46,14,20,10,"bytes"],[46,20,20,15],[46,21,20,16,"length"],[46,27,20,22],[46,32,20,27],[46,33,20,28],[46,35,20,30],[47,12,21,8,"controller"],[47,22,21,18],[47,23,21,19,"close"],[47,28,21,24],[47,29,21,25],[47,30,21,26],[48,12,22,8],[49,10,23,6],[50,10,24,6,"controller"],[50,20,24,16],[50,21,24,17,"enqueue"],[50,28,24,24],[50,29,24,25,"bytes"],[50,35,24,30],[50,36,24,31],[51,10,25,6],[52,8,26,4],[54,8,28,4],[55,8,29,4],[55,12,29,10,"bytes"],[55,17,29,15],[55,20,29,18],[55,24,29,22],[55,25,29,23,"handle"],[55,31,29,29],[55,32,29,30,"readBytes"],[55,41,29,39],[55,42,29,40,"theView"],[55,49,29,47],[55,50,29,48,"byteLength"],[55,60,29,58],[55,63,29,61,"theView"],[55,70,29,68],[55,71,29,69,"byteOffset"],[55,81,29,79],[55,82,29,80],[56,8,30,4],[56,12,30,8,"bytes"],[56,17,30,13],[56,18,30,14,"length"],[56,24,30,20],[56,29,30,25],[56,30,30,26],[56,32,30,28],[57,10,31,6,"controller"],[57,20,31,16],[57,21,31,17,"close"],[57,26,31,22],[57,27,31,23],[57,28,31,24],[58,10,32,6,"controller"],[58,20,32,16],[58,21,32,17,"byobRequest"],[58,32,32,28],[58,33,32,29,"respond"],[58,40,32,36],[58,41,32,37],[58,42,32,38],[58,43,32,39],[59,10,33,6],[60,8,34,4],[61,8,35,4],[61,12,35,8,"theView"],[61,19,35,15],[61,31,35,27,"Uint8Array"],[61,41,35,37],[61,43,35,39],[62,10,36,6,"theView"],[62,17,36,13],[62,18,36,14,"set"],[62,21,36,17],[62,22,36,18,"bytes"],[62,27,36,23],[62,29,36,25,"theView"],[62,36,36,32],[62,37,36,33,"byteOffset"],[62,47,36,43],[62,48,36,44],[63,8,37,4],[63,9,37,5],[63,15,37,11],[64,10,38,6],[64,14,38,12,"array"],[64,19,38,17],[64,22,38,20],[64,26,38,24,"Uint8Array"],[64,36,38,34],[64,37,38,35,"theView"],[64,44,38,42],[64,45,38,43,"buffer"],[64,51,38,49],[64,52,38,50],[65,10,39,6],[65,15,39,11],[65,19,39,15,"i"],[65,20,39,16],[65,23,39,19],[65,24,39,20],[65,26,39,22,"i"],[65,27,39,23],[65,30,39,26,"bytes"],[65,35,39,31],[65,36,39,32,"length"],[65,42,39,38],[65,44,39,40,"i"],[65,45,39,41],[65,47,39,43],[65,49,39,45],[66,12,40,8,"array"],[66,17,40,13],[66,18,40,14,"i"],[66,19,40,15],[66,23,40,19,"theView"],[66,30,40,26],[66,31,40,27,"byteOffset"],[66,41,40,37],[66,45,40,41],[66,46,40,42],[66,47,40,43],[66,48,40,44],[66,51,40,47,"bytes"],[66,56,40,52],[66,57,40,53,"i"],[66,58,40,54],[66,59,40,56],[67,10,41,6],[68,8,42,4],[69,8,43,4,"controller"],[69,18,43,14],[69,19,43,15,"byobRequest"],[69,30,43,26],[69,31,43,27,"respond"],[69,38,43,34],[69,39,43,35,"bytes"],[69,44,43,40],[69,45,43,41,"length"],[69,51,43,47],[69,52,43,48],[70,6,44,2],[71,4,44,3],[72,2,44,3],[73,2,44,3],[73,6,47,13,"FileSystemWritableSink"],[73,28,47,35],[74,4,50,2],[74,13,50,2,"FileSystemWritableSink"],[74,36,50,14,"handle"],[74,42,50,32],[74,44,50,34],[75,6,50,34],[75,10,50,34,"_classCallCheck"],[75,25,50,34],[75,26,50,34,"default"],[75,33,50,34],[75,41,50,34,"FileSystemWritableSink"],[75,63,50,34],[76,6,51,4],[76,10,51,8],[76,11,51,9,"handle"],[76,17,51,15],[76,20,51,18,"handle"],[76,26,51,24],[77,4,52,2],[78,4,52,3],[78,15,52,3,"_createClass"],[78,27,52,3],[78,28,52,3,"default"],[78,35,52,3],[78,37,52,3,"FileSystemWritableSink"],[78,59,52,3],[79,6,52,3,"key"],[79,9,52,3],[80,6,52,3,"value"],[80,11,52,3],[80,13,54,2],[80,22,54,2,"abort"],[80,27,54,7,"abort"],[80,28,54,7],[80,30,54,10],[81,8,55,4],[81,12,55,8],[81,13,55,9,"close"],[81,18,55,14],[81,19,55,15],[81,20,55,16],[82,6,56,2],[83,4,56,3],[84,6,56,3,"key"],[84,9,56,3],[85,6,56,3,"value"],[85,11,56,3],[85,13,58,2],[85,22,58,2,"close"],[85,27,58,7,"close"],[85,28,58,7],[85,30,58,10],[86,8,59,4],[86,12,59,8],[86,13,59,9,"handle"],[86,19,59,15],[86,20,59,16,"close"],[86,25,59,21],[86,26,59,22],[86,27,59,23],[87,6,60,2],[88,4,60,3],[89,6,60,3,"key"],[89,9,60,3],[90,6,60,3,"value"],[90,11,60,3],[90,13,62,2],[90,22,62,2,"write"],[90,27,62,7,"write"],[90,28,62,8,"chunk"],[90,33,62,25],[90,35,62,27],[91,8,63,4],[91,12,63,8],[91,13,63,9,"handle"],[91,19,63,15],[91,20,63,16,"writeBytes"],[91,30,63,26],[91,31,63,27,"chunk"],[91,36,63,32],[91,37,63,33],[92,6,64,2],[93,4,64,3],[94,2,64,3],[95,0,64,3],[95,3]],"functionMap":{"names":["<global>","FileSystemReadableStreamSource","FileSystemReadableStreamSource#constructor","FileSystemReadableStreamSource#cancel","FileSystemReadableStreamSource#pull","FileSystemWritableSink","FileSystemWritableSink#constructor","FileSystemWritableSink#abort","FileSystemWritableSink#close","FileSystemWritableSink#write"],"mappings":"AAA;OCE;ECK;GDE;EEE;GFE;EGE;GH4B;CDC;OKE;ECG;GDE;EEE;GFE;EGE;GHE;EIE;GJE;CLC"},"hasCjsExports":false},"type":"js/module"}]}