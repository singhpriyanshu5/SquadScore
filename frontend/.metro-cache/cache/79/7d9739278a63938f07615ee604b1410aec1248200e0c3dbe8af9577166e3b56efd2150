{"dependencies":[{"name":"expo-modules-core","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":45,"index":45}}],"key":"fU8WLIPqoAGygnPbZ/QJiQQfXEY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _expoModulesCore = require(_dependencyMap[0], \"expo-modules-core\");\n  var _default = {\n    async getDocumentAsync({\n      type = '*/*',\n      multiple = false,\n      base64 = false\n    }) {\n      // SSR guard\n      if (!_expoModulesCore.Platform.isDOMAvailable) {\n        return {\n          canceled: true,\n          assets: null\n        };\n      }\n      const input = document.createElement('input');\n      input.style.display = 'none';\n      input.setAttribute('type', 'file');\n      input.setAttribute('accept', Array.isArray(type) ? type.join(',') : type);\n      input.setAttribute('id', String(Math.random()));\n      if (multiple) {\n        input.setAttribute('multiple', 'multiple');\n      }\n      document.body.appendChild(input);\n      return new Promise((resolve, reject) => {\n        input.addEventListener('change', async () => {\n          if (input.files) {\n            const results = [];\n            for (let i = 0; i < input.files.length; i++) {\n              results.push(readFileAsync(input.files[i], base64));\n            }\n            try {\n              const assets = await Promise.all(results);\n              resolve({\n                canceled: false,\n                assets,\n                output: input.files\n              });\n            } catch (e) {\n              reject(e);\n            }\n          } else {\n            resolve({\n              canceled: true,\n              assets: null\n            });\n          }\n          document.body.removeChild(input);\n        });\n        input.addEventListener('cancel', () => {\n          resolve({\n            canceled: true,\n            assets: null\n          });\n        });\n        const event = new MouseEvent('click');\n        input.dispatchEvent(event);\n      });\n    }\n  };\n  function readFileAsync(targetFile, base64 = true) {\n    return new Promise((resolve, reject) => {\n      const mimeType = targetFile.type;\n      if (!base64) {\n        resolve({\n          uri: URL.createObjectURL(targetFile),\n          mimeType,\n          name: targetFile.name,\n          lastModified: targetFile.lastModified,\n          size: targetFile.size,\n          file: targetFile\n        });\n        return;\n      }\n      const reader = new FileReader();\n      reader.onerror = () => {\n        reject(new Error(`Failed to read the selected media because the operation failed.`));\n      };\n      reader.onload = ({\n        target\n      }) => {\n        const base64 = target.result;\n        resolve({\n          uri: URL.createObjectURL(targetFile),\n          base64,\n          mimeType,\n          name: targetFile.name,\n          lastModified: targetFile.lastModified,\n          size: targetFile.size,\n          file: targetFile\n        });\n      };\n      // Read in the image file as a binary string.\n      reader.readAsDataURL(targetFile);\n    });\n  }\n});","lineCount":108,"map":[[7,2,2,0,"Object"],[7,8,2,0],[7,9,2,0,"defineProperty"],[7,23,2,0],[7,24,2,0,"exports"],[7,31,2,0],[8,4,2,0,"enumerable"],[8,14,2,0],[9,4,2,0,"get"],[9,7,2,0],[9,18,2,0,"get"],[9,19,2,0],[10,6,2,0],[10,13,2,0,"_default"],[10,21,2,0],[11,4,2,0],[12,2,2,0],[13,2,1,0],[13,6,1,0,"_expoModulesCore"],[13,22,1,0],[13,25,1,0,"require"],[13,32,1,0],[13,33,1,0,"_dependencyMap"],[13,47,1,0],[14,2,2,0],[14,6,2,0,"_default"],[14,14,2,0],[14,17,2,15],[15,4,3,4],[15,10,3,10,"getDocumentAsync"],[15,26,3,26,"getDocumentAsync"],[15,27,3,27],[16,6,3,29,"type"],[16,10,3,33],[16,13,3,36],[16,18,3,41],[17,6,3,43,"multiple"],[17,14,3,51],[17,17,3,54],[17,22,3,59],[18,6,3,61,"base64"],[18,12,3,67],[18,15,3,70],[19,4,3,77],[19,5,3,78],[19,7,3,80],[20,6,4,8],[21,6,5,8],[21,10,5,12],[21,11,5,13,"Platform"],[21,27,5,21],[21,28,5,21,"Platform"],[21,36,5,21],[21,37,5,22,"isDOMAvailable"],[21,51,5,36],[21,53,5,38],[22,8,6,12],[22,15,6,19],[23,10,6,21,"canceled"],[23,18,6,29],[23,20,6,31],[23,24,6,35],[24,10,6,37,"assets"],[24,16,6,43],[24,18,6,45],[25,8,6,50],[25,9,6,51],[26,6,7,8],[27,6,8,8],[27,12,8,14,"input"],[27,17,8,19],[27,20,8,22,"document"],[27,28,8,30],[27,29,8,31,"createElement"],[27,42,8,44],[27,43,8,45],[27,50,8,52],[27,51,8,53],[28,6,9,8,"input"],[28,11,9,13],[28,12,9,14,"style"],[28,17,9,19],[28,18,9,20,"display"],[28,25,9,27],[28,28,9,30],[28,34,9,36],[29,6,10,8,"input"],[29,11,10,13],[29,12,10,14,"setAttribute"],[29,24,10,26],[29,25,10,27],[29,31,10,33],[29,33,10,35],[29,39,10,41],[29,40,10,42],[30,6,11,8,"input"],[30,11,11,13],[30,12,11,14,"setAttribute"],[30,24,11,26],[30,25,11,27],[30,33,11,35],[30,35,11,37,"Array"],[30,40,11,42],[30,41,11,43,"isArray"],[30,48,11,50],[30,49,11,51,"type"],[30,53,11,55],[30,54,11,56],[30,57,11,59,"type"],[30,61,11,63],[30,62,11,64,"join"],[30,66,11,68],[30,67,11,69],[30,70,11,72],[30,71,11,73],[30,74,11,76,"type"],[30,78,11,80],[30,79,11,81],[31,6,12,8,"input"],[31,11,12,13],[31,12,12,14,"setAttribute"],[31,24,12,26],[31,25,12,27],[31,29,12,31],[31,31,12,33,"String"],[31,37,12,39],[31,38,12,40,"Math"],[31,42,12,44],[31,43,12,45,"random"],[31,49,12,51],[31,50,12,52],[31,51,12,53],[31,52,12,54],[31,53,12,55],[32,6,13,8],[32,10,13,12,"multiple"],[32,18,13,20],[32,20,13,22],[33,8,14,12,"input"],[33,13,14,17],[33,14,14,18,"setAttribute"],[33,26,14,30],[33,27,14,31],[33,37,14,41],[33,39,14,43],[33,49,14,53],[33,50,14,54],[34,6,15,8],[35,6,16,8,"document"],[35,14,16,16],[35,15,16,17,"body"],[35,19,16,21],[35,20,16,22,"appendChild"],[35,31,16,33],[35,32,16,34,"input"],[35,37,16,39],[35,38,16,40],[36,6,17,8],[36,13,17,15],[36,17,17,19,"Promise"],[36,24,17,26],[36,25,17,27],[36,26,17,28,"resolve"],[36,33,17,35],[36,35,17,37,"reject"],[36,41,17,43],[36,46,17,48],[37,8,18,12,"input"],[37,13,18,17],[37,14,18,18,"addEventListener"],[37,30,18,34],[37,31,18,35],[37,39,18,43],[37,41,18,45],[37,53,18,57],[38,10,19,16],[38,14,19,20,"input"],[38,19,19,25],[38,20,19,26,"files"],[38,25,19,31],[38,27,19,33],[39,12,20,20],[39,18,20,26,"results"],[39,25,20,33],[39,28,20,36],[39,30,20,38],[40,12,21,20],[40,17,21,25],[40,21,21,29,"i"],[40,22,21,30],[40,25,21,33],[40,26,21,34],[40,28,21,36,"i"],[40,29,21,37],[40,32,21,40,"input"],[40,37,21,45],[40,38,21,46,"files"],[40,43,21,51],[40,44,21,52,"length"],[40,50,21,58],[40,52,21,60,"i"],[40,53,21,61],[40,55,21,63],[40,57,21,65],[41,14,22,24,"results"],[41,21,22,31],[41,22,22,32,"push"],[41,26,22,36],[41,27,22,37,"readFileAsync"],[41,40,22,50],[41,41,22,51,"input"],[41,46,22,56],[41,47,22,57,"files"],[41,52,22,62],[41,53,22,63,"i"],[41,54,22,64],[41,55,22,65],[41,57,22,67,"base64"],[41,63,22,73],[41,64,22,74],[41,65,22,75],[42,12,23,20],[43,12,24,20],[43,16,24,24],[44,14,25,24],[44,20,25,30,"assets"],[44,26,25,36],[44,29,25,39],[44,35,25,45,"Promise"],[44,42,25,52],[44,43,25,53,"all"],[44,46,25,56],[44,47,25,57,"results"],[44,54,25,64],[44,55,25,65],[45,14,26,24,"resolve"],[45,21,26,31],[45,22,26,32],[46,16,26,34,"canceled"],[46,24,26,42],[46,26,26,44],[46,31,26,49],[47,16,26,51,"assets"],[47,22,26,57],[48,16,26,59,"output"],[48,22,26,65],[48,24,26,67,"input"],[48,29,26,72],[48,30,26,73,"files"],[49,14,26,79],[49,15,26,80],[49,16,26,81],[50,12,27,20],[50,13,27,21],[50,14,28,20],[50,21,28,27,"e"],[50,22,28,28],[50,24,28,30],[51,14,29,24,"reject"],[51,20,29,30],[51,21,29,31,"e"],[51,22,29,32],[51,23,29,33],[52,12,30,20],[53,10,31,16],[53,11,31,17],[53,17,32,21],[54,12,33,20,"resolve"],[54,19,33,27],[54,20,33,28],[55,14,33,30,"canceled"],[55,22,33,38],[55,24,33,40],[55,28,33,44],[56,14,33,46,"assets"],[56,20,33,52],[56,22,33,54],[57,12,33,59],[57,13,33,60],[57,14,33,61],[58,10,34,16],[59,10,35,16,"document"],[59,18,35,24],[59,19,35,25,"body"],[59,23,35,29],[59,24,35,30,"removeChild"],[59,35,35,41],[59,36,35,42,"input"],[59,41,35,47],[59,42,35,48],[60,8,36,12],[60,9,36,13],[60,10,36,14],[61,8,37,12,"input"],[61,13,37,17],[61,14,37,18,"addEventListener"],[61,30,37,34],[61,31,37,35],[61,39,37,43],[61,41,37,45],[61,47,37,51],[62,10,38,16,"resolve"],[62,17,38,23],[62,18,38,24],[63,12,38,26,"canceled"],[63,20,38,34],[63,22,38,36],[63,26,38,40],[64,12,38,42,"assets"],[64,18,38,48],[64,20,38,50],[65,10,38,55],[65,11,38,56],[65,12,38,57],[66,8,39,12],[66,9,39,13],[66,10,39,14],[67,8,40,12],[67,14,40,18,"event"],[67,19,40,23],[67,22,40,26],[67,26,40,30,"MouseEvent"],[67,36,40,40],[67,37,40,41],[67,44,40,48],[67,45,40,49],[68,8,41,12,"input"],[68,13,41,17],[68,14,41,18,"dispatchEvent"],[68,27,41,31],[68,28,41,32,"event"],[68,33,41,37],[68,34,41,38],[69,6,42,8],[69,7,42,9],[69,8,42,10],[70,4,43,4],[71,2,44,0],[71,3,44,1],[72,2,45,0],[72,11,45,9,"readFileAsync"],[72,24,45,22,"readFileAsync"],[72,25,45,23,"targetFile"],[72,35,45,33],[72,37,45,35,"base64"],[72,43,45,41],[72,46,45,44],[72,50,45,48],[72,52,45,50],[73,4,46,4],[73,11,46,11],[73,15,46,15,"Promise"],[73,22,46,22],[73,23,46,23],[73,24,46,24,"resolve"],[73,31,46,31],[73,33,46,33,"reject"],[73,39,46,39],[73,44,46,44],[74,6,47,8],[74,12,47,14,"mimeType"],[74,20,47,22],[74,23,47,25,"targetFile"],[74,33,47,35],[74,34,47,36,"type"],[74,38,47,40],[75,6,48,8],[75,10,48,12],[75,11,48,13,"base64"],[75,17,48,19],[75,19,48,21],[76,8,49,12,"resolve"],[76,15,49,19],[76,16,49,20],[77,10,50,16,"uri"],[77,13,50,19],[77,15,50,21,"URL"],[77,18,50,24],[77,19,50,25,"createObjectURL"],[77,34,50,40],[77,35,50,41,"targetFile"],[77,45,50,51],[77,46,50,52],[78,10,51,16,"mimeType"],[78,18,51,24],[79,10,52,16,"name"],[79,14,52,20],[79,16,52,22,"targetFile"],[79,26,52,32],[79,27,52,33,"name"],[79,31,52,37],[80,10,53,16,"lastModified"],[80,22,53,28],[80,24,53,30,"targetFile"],[80,34,53,40],[80,35,53,41,"lastModified"],[80,47,53,53],[81,10,54,16,"size"],[81,14,54,20],[81,16,54,22,"targetFile"],[81,26,54,32],[81,27,54,33,"size"],[81,31,54,37],[82,10,55,16,"file"],[82,14,55,20],[82,16,55,22,"targetFile"],[83,8,56,12],[83,9,56,13],[83,10,56,14],[84,8,57,12],[85,6,58,8],[86,6,59,8],[86,12,59,14,"reader"],[86,18,59,20],[86,21,59,23],[86,25,59,27,"FileReader"],[86,35,59,37],[86,36,59,38],[86,37,59,39],[87,6,60,8,"reader"],[87,12,60,14],[87,13,60,15,"onerror"],[87,20,60,22],[87,23,60,25],[87,29,60,31],[88,8,61,12,"reject"],[88,14,61,18],[88,15,61,19],[88,19,61,23,"Error"],[88,24,61,28],[88,25,61,29],[88,90,61,94],[88,91,61,95],[88,92,61,96],[89,6,62,8],[89,7,62,9],[90,6,63,8,"reader"],[90,12,63,14],[90,13,63,15,"onload"],[90,19,63,21],[90,22,63,24],[90,23,63,25],[91,8,63,27,"target"],[92,6,63,34],[92,7,63,35],[92,12,63,40],[93,8,64,12],[93,14,64,18,"base64"],[93,20,64,24],[93,23,64,27,"target"],[93,29,64,33],[93,30,64,34,"result"],[93,36,64,40],[94,8,65,12,"resolve"],[94,15,65,19],[94,16,65,20],[95,10,66,16,"uri"],[95,13,66,19],[95,15,66,21,"URL"],[95,18,66,24],[95,19,66,25,"createObjectURL"],[95,34,66,40],[95,35,66,41,"targetFile"],[95,45,66,51],[95,46,66,52],[96,10,67,16,"base64"],[96,16,67,22],[97,10,68,16,"mimeType"],[97,18,68,24],[98,10,69,16,"name"],[98,14,69,20],[98,16,69,22,"targetFile"],[98,26,69,32],[98,27,69,33,"name"],[98,31,69,37],[99,10,70,16,"lastModified"],[99,22,70,28],[99,24,70,30,"targetFile"],[99,34,70,40],[99,35,70,41,"lastModified"],[99,47,70,53],[100,10,71,16,"size"],[100,14,71,20],[100,16,71,22,"targetFile"],[100,26,71,32],[100,27,71,33,"size"],[100,31,71,37],[101,10,72,16,"file"],[101,14,72,20],[101,16,72,22,"targetFile"],[102,8,73,12],[102,9,73,13],[102,10,73,14],[103,6,74,8],[103,7,74,9],[104,6,75,8],[105,6,76,8,"reader"],[105,12,76,14],[105,13,76,15,"readAsDataURL"],[105,26,76,28],[105,27,76,29,"targetFile"],[105,37,76,39],[105,38,76,40],[106,4,77,4],[106,5,77,5],[106,6,77,6],[107,2,78,0],[108,0,78,1],[108,3]],"functionMap":{"names":["<global>","default.getDocumentAsync","Promise$argument_0","input.addEventListener$argument_1","readFileAsync","reader.onerror","reader.onload"],"mappings":"AAA;ICE;2BCc;6CCC;aDkB;6CCC;aDE;SDG;KDC;AIE;uBFC;yBGc;SHE;wBIC;SJW;KEG;CJC"},"hasCjsExports":false},"type":"js/module"}]}